<div fxLayout="row">
  <app-calendar></app-calendar>
</div>

<div class="reservation-history-table" fxFlex fxLayout="column">
  <h2>My desk booking history</h2>

  <div>
    <table>
      <thead>
      <th (click)="sortReservationsByDate()">Date</th>

        <th>
          <mat-form-field class="mat-form-field-sorting" [style.width.px]="100">
            <mat-label>Building</mat-label>
            <mat-select [formControl]="buildingSelect" (selectionChange)="filterList()">
              <mat-option [value]="">All</mat-option>
              <mat-option *ngFor="let building of buildings" [value]="building">{{building.buildingName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </th>
      <th>Floor</th>
      <th>Room</th>
      <th>Desk</th>
      <th>
        <mat-form-field class="mat-form-field-sorting" [style.width.px]="100">
          <mat-label>Status</mat-label>
          <mat-select [formControl]="statusSelected" (selectionChange)="filterList()">
            <mat-option [value]="">ALL</mat-option>
            <mat-option [value]="'ACTIVE'">ACTIVE</mat-option>
            <mat-option [value]="'EXPIRED'">EXPIRED</mat-option>
            <mat-option [value]="'CANCELED'">CANCELED</mat-option>
          </mat-select>
        </mat-form-field>
      </th>
      </thead>
      <tbody>
      <tr *ngFor="let reservation of reservationsForDisplay">
        <td>{{reservation.date}}</td>
        <td>{{reservation.buildingName}}</td>
        <td>{{reservation.floorName}}</td>
        <td>{{reservation.roomName}}</td>
        <td>{{reservation.deskName}}</td>
        <td (click)="cancelReservationById(reservation)"
            matTooltip="cancel reservation"
            [matTooltipDisabled]="reservation.reservationStatus !== 'ACTIVE'"
            class="{{reservation.reservationStatus}}">{{reservation.reservationStatus}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
